- # 1.导言

  ## 1.1目的

  该文档的目的是描述网上招聘系统项目的概要设计，其主要内容包括：

  - 系统功能简介
  - 系统结构设计
  - 系统接口设计
  - 数据设计
  - 模块设计
  - 界面设计

  本文档的预期的读者是：

  - 开发人员
  - 项目管理人员
  - 测试人员

  ## 1.2范围

  该文档定义了系统的结构和单元接口，但未确定单元的实现方法，这部分内容将在详细设计/实现中确定。

  ### 1.3 缩写说明

  - UML (Unified Modeling Language)

    UML(统一建模语言)是一种用于指定、可视化、构造和记录软件系统工件的标准语言。

  - Scrapy

    - Scrapy 是用 Python 实现的一个为了爬取网站数据、提取结构性数据而编写的应用框架。
    - Scrapy 常应用在包括数据挖掘，信息处理或存储历史数据等一系列的程序中。
    - 通常我们可以很简单的通过 Scrapy 框架实现一个爬虫，抓取指定网站的内容或图片。

  - sklearn

    Scikit-learn（也称为sklearn）是Python编程语言的免费软件机器学习库。它具有各种分类、回归和聚类算法，包括支持向量机、随机林、梯度提升、k-均值和DBSCAN，旨在与 Python 数值和科学库NumPy和SciPy进行互操作。

  ### 1.4 术语定义

  - 爬虫

    网络爬虫（又称为网页蜘蛛，网络机器人，在FOAF社区中间，更经常的称为网页追逐者），是一种按照一定的规则，自动地抓取万维网信息的程序或者脚本。另外一些不常使用的名字还有蚂蚁、自动索引、模拟程序或者蠕虫。


  - 机器学习

    机器学习是一门多领域交叉学科，涉及概率论、统计学、逼近论、凸分析、算法复杂度理论等多门学科。专门研究计算机怎样模拟或实现人类的学习行为，以获取新的知识或技能，重新组织已有的知识结构使之不断改善自身的性能。
    它是人工智能的核心，是使计算机具有智能的根本途径。

  - 文本分析

    文本分析是对文本进行解析，以便从中提取机器可读的事实。文本分析的目的是用自由文本内容创建结构化数据。这个过程可以看作是将一堆非结构化、异构的文档分割成易于管理和解释的数据块。

  ### 1.5 参考资料

  - python参考资料：
    - [https://github.com/wistbean/learn_python3_spider](https://github.com/wistbean/learn_python3_spider)
    - [https://www.runoob.com/w3cnote/python-spider-intro.html](https://www.runoob.com/w3cnote/python-spider-intro.html)

  - 《Python网络数据采集》

  - Scrapy文档 
    - [Scrapy官方文档](https://docs.scrapy.org/en/latest/intro/tutorial.html)
    - [Scrapy教程](https://www.runoob.com/w3cnote/scrapy-detail.html)

  - 机器学习
    - [sklearn官方文档](https://sklearn.apachecn.org/)

  # 2.系统分析

  用户登录博物馆应用平台系统，根据其他子系统实现的界面，查看从主要的新闻网站上获取博物馆相关的新闻信息。用户可以在客户端指定时间范围，选定新闻的发布时间、新闻的标题、新闻的内容、新闻涉及的博物馆等，系统还会根据正面新闻和负面新闻进行分类反馈给用户。用户还可以选择数据定制服务，可以指定获取某一家博物馆的指定时间内的主要新闻，正面新闻和负面新闻。

  博物馆新闻分析子系统的功能主要包括数据获取、数据加工、数据分析、数据定制服务。


  # 3.体系结构

  系统的总体结构设计遵循如下原则：

  - 系统应具有良好的适应性：能适应用户对系统的软件环境、管理内容、模式和界面的要求；
  - 系统应具有可靠性：采用成熟的技术方法和软件开发平台，以保证在以后的实际应用中安全、可靠；
  - 系统应具有较好的安全性：应提高完善的安全机制和用户权限限制机制，确保数据的受限访问；
  - 系统应具有良好的可维护性：系统应易于维护、安装；
  - 系统应具有良好的可扩展性：系统应适应未来信息化建设的要求，能方便得进行功能扩展，以建立完善的信息集成管理体系。

  ## 3.1 系统运行硬件环境

  - 服务器
    - 配置信息
      - 操作系统
        - Ubuntu Server 18.04 1 LTS 64位
      - CPU
        - 1核
      - 内存
        - 2GB
      - 带宽
        - 1Mbps

  - 客户机：普通PC

  ## 3.2 系统运行软件环境

  - 操作系统
    - Win10/Macos/Linux
  - 数据库
    - MySQL 或其他数据库操作软件
  - 浏览器
    - Microsoft Edge/Google Chrome

  # 4.数据模型

  本系统的数据模型主要是进行数据库的设计。

  ## 4.1数据库的概念结构模型设计

  概念设计以反映现实世界中的实体、属性和它们之间的关系等的原始数据形式

  ## 4.2数据库的逻辑结构模型设计

  数据库的逻辑设计是将各局部的E-R图进行分解、合并后重新组织起来形成数据库全局逻辑结构，包括所确定的关键字和属性、重新确定的记录结构、所建立的各个数据之间的相互关系。

  ## 4.3数据库管理物理结构模型设计

  信息存储结构的设计在系统的设计中至关重要，要考虑到数据冗余、系统执行效率、信息控制以及维护等方面的要求。信息的管理离不开数据库的支持，我们采用mysql数据库管理系统。 数据库的物理设计主要是对数据在内存中的安排，包括对索引区、缓冲区的设计；对使用的外存设备及外存空间的组织，包括索引区、数据块的组织与划分；设置访问数据的方式方法。

  （详见附录数据库结构设计）

  ## 4.4 数据库表的具体形式

  新闻表-new

  | 序号 | 字段    | 类型         | 默认值 | 是否NULL | PK   | FK   | 描述     |
  | ---- | ------- | ------------ | ------ | -------- | ---- | ---- | -------- |
  | 1    | id      | int(11)      |        |          | 是   | 是   | 新闻id   |
  | 2    | title   | varchar(255) |        |          | 否   | 否   | 新闻标题 |
  | 3    | author  | varchar(255) |        |          | 否   | 否   | 新闻作者 |
  | 4    | time    | datetime     |        |          | 否   | 否   | 新闻时间 |
  | 5    | content | longtext     |        |          | 否   | 否   | 新闻摘要 |
  | 6    | url     | longtext     |        |          | 否   | 否   | 新闻url  |
  | 7    | tag     | int(11)      | 1      |          | 否   | 否   | 新闻正负 |


  新闻与博物馆关系表-museum_has_new

  | 序号 | 字段      | 类型    | 默认值 | 是否NULL | PK   | FK   | 描述     |
  | ---- | --------- | ------- | ------ | -------- | ---- | ---- | -------- |
  | 1    | new_id    | int(11) |        | 否       | 是   | 是   | 新闻id   |
  | 2    | museum_id | int(11) |        | 否       | 是   | 是   | 博物馆id |

  # 5.模块设计

  博物馆新闻分析子系统的功能主要包括数据获取、数据加工、数据分析、数据定制服务。

  博物馆新闻分析子系统的功能描述如下：

  ***

  F-C-1：数据获取
  爬取主要的新闻网站中的博物馆相关新闻。可以支持爬取指定时间范围内的新闻，如1年内的新闻，半年内的新闻等。

  *****

  F-C-2：数据加工
  子系统对于爬取的信息进行过滤和加工，抽取需要的内容。例如，抽取新闻的发布时间、新闻的标题、新闻的内容、新闻涉及的博物馆等。

  *****

  F-C-3：数据分析
  对于加工好的新闻，分析是正面新闻还是负面信息。

  *****

  F-C-4：数据定制服务
  可以根据指定的某一家博物馆及用户的指令，获取该博物馆的指定时间的新闻，并进行加工分析，得到该博物馆指定时间内的主要新闻，正面新闻和负面新闻。

  *****

  ### 5.1 数据获取

  用例描述：子系统对新闻数据进行爬取
  执行者：子系统
  前置条件：用户登陆并进入系统
  后置条件：子系统对爬取的信息进行加工
  基本路径：

  - 用户登入到此系统内，根据其他子系统提供的接口，查看自己所需的新闻。

  ### 5.2 数据加工

  用例描述：对爬取的信息进行加工
  执行者：博物馆新闻分析子系统
  前置条件：子系统已经对数据爬取完成
  后置条件：信息加工好后，系统对信息进行分析
  基本路径：

  - 对爬取的信息进行过滤和加工
  - 从初步加工的信息中抽取所需的内容

  ### 5.3 数据分析

  用例描述：对加工好的新闻，分析是否是正面信息
  执行者：博物馆新闻分析子系统
  前置条件：对爬取的信息已加工完成
  后置条件：分析结束后，用户可获得所需新闻
  基本路径：

  - 采用已有的可直接调用的服务和代码实现
  - 分析是正面新闻还是负面新闻

  ### 5.4 数据定制服务

  用例描述：根据用户需求对指定的博物馆，获取该博物馆指定时间的新闻，并进行加工和分析
  执行者：用户
  前置条件：用户已选择指定的博物馆和时间
  后置条件：用户指定博物馆和时间后，获得相应的新闻信息
  基本路径：

  - 指定某一个博物馆，指定获该博物馆新闻的时间
  - 得到该博物馆指定时间内的主要新闻，正面新闻和负面新闻。